---
- summary: |
    Проверка успешной регистрации нового пользователя
  requirement: |
    При вводе валидной почты, никнейма и пароля пользователь должен зарегистрироваться в системе
  prerequisites: |
    Открыта главная страница сайта (https://codebattle.hexlet.io)
  test-data: |
    Nickname = testuser2, email = testuser@example.com, password = admin123.
  steps:
    1. Открыть страницу регистрации
    2. Ввести тестовые данные в поля Nickname, Email, Password, Password Confirmation
    3. Нажать кнопку Submit
  expected-result: |
    Пользователь зарегистрирован и перенаправлен на главную страницу сайта

- summary: |
    Проверка неуспешной регистрации с некорректным email
  requirement: |
    При вводе некорректной почты пользователь не должен зарегистрироваться
  prerequisites:
    - Открыта страница регистрации
    - Пользователь не залогинен
  test-data: |
    Nickname = testuser3, email = testuser@example, password = admin123.
  steps:
    1. Ввести некорректный email
    2. Ввести валидный пароль
    3. Нажать кнопку Submit
  expected-result: |
    Регистрация не проходит, появляется сообщение "Invalid email"

- summary: |
    Проверка успешного входа через через OAuth-интеграцию с Github
  requirement: |
    Пользователь с аккаунтом GitHub должен иметь возможность войти в систему через OAuth без ввода логина и пароля на Codebattle
  prerequisites:
    - Открыта страница регистрации
    - GitHub-аккаунт пользователя существует и не привязан к другому профилю Codebattle
  test-data: |
    Нет
  steps:
    1. Нажать на кнопку "Sign up with Github"
    2. Перенаправление на страницу авторизации GitHub
    3. Вводим логин и пароль от Github
    4. Подтверждаем разрешения для Codebattle
  expected-result: |
    - Пользователь успешно авторизован в Codebattle
    - Перенаправление на главную страницу или в профиль
    - В профиле отображается привязанный GitHub-аккаунт

- summary: |
    Проверка успешного входа в существующий аккаунт
  requirement: |
    При вводе валидных данных в форме входа пользователь должен войти в свой аккаунт
  prerequisites:
    - Открыта главная страница сайта
    - Пользователь не залогинен
  test-data: |
    Email = testuser@example.com, Password = admin123.
  steps:
    1. Ввести email и пароль
    2. Нажать кнопку Submit
  expected-result: |
    Пользователь авторизован и перенаправлен на главную страницу

- summary: |
    Проверка возможности участия в гостевом режиме без авторизации
  requirement: |
    Система должна предоставлять возможность участия в пробном сражении без регистрации и авторизации
  prerequisites:
    - Открыта главная страница сайта
    - Пользователь не залогинен
  test-data: |
    Нет
  steps:
    1. Нажать на кнопку "Try simple battle"
    2. Дождаться загрузки игровой сессии
    3. В левой панели редактора кода ввести любой текст
    4. Нажать кнопку "Run"
  expected-result: |
    Пользователь перенаправлен на страницу с игрой, поле для ввода кода доступно для редактирования

